<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Gallery | Angel Spring Precision</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body >

    <!-- Industrial System Ticker -->
    <div class="system-ticker">
        <div class="ticker-wrap">
            <div class="ticker-item">
                <div class="status-dot"></div> FACILITY STATUS: <span>OPERATIONAL</span>
            </div>
            <div class="ticker-item"><i class="fas fa-microchip"></i> PRECISION INDEX: <span>99.98%</span></div>
            <div class="ticker-item"><i class="fas fa-shield-alt"></i> ISO COMPLIANCE: <span>VERIFIED</span></div>
            <div class="ticker-item">
                <div class="status-dot"></div> FACILITY STATUS: <span>OPERATIONAL</span>
            </div>
            <div class="ticker-item"><i class="fas fa-microchip"></i> PRECISION INDEX: <span>99.98%</span></div>
            <div class="ticker-item"><i class="fas fa-shield-alt"></i> ISO COMPLIANCE: <span>VERIFIED</span></div>
        </div>
    </div>

    <!-- Branded Preloader -->
    <div id="preloader">
        <div class="loader-content">
            <div class="spring-logo">
                <div class="loader-pulse"></div>
                <!-- <i class="fas fa-cube"></i> -->
                <img src="assets/logo.png" alt="Angel Spring"
                    style="width: 100%; height: auto; position: relative; z-index: 2;">
            </div>
            <div class="loader-text">Angel <span>Spring</span></div>
        </div>
    </div>

    <!-- Fixed Social Sidebar -->
    <div class="fixed-socials animate-up">
        <div class="social-vertical-line"></div>
        <a href="#" class="social-link"><i class="fab fa-linkedin-in"></i></a>
        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
        <div class="social-vertical-line bottom"></div>
    </div>

    <header id="main-header">
        <a href="index.html" class="logo">
            <img src="assets/logo.png" alt="Angel Spring">
        </a>
        <div class="nav-toggle" id="nav-toggle">
            <i class="fas fa-bars"></i>
        </div>
        <nav id="nav-menu">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="products.html">Products</a></li>
                <li><a href="gallery.html" class="active">Gallery</a></li>
                <li><a href="quality.html">Quality</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
        <a href="contact.html" class="btn btn-primary nav-cta">Get Quote</a>
    </header>

    <section class="hero secondary-hero"
        style="background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), url('assets/hero-gallery.png');">
        <div class="hero-content">
            <h1 class="reveal-text"><span>Visual Excellence</span></h1>
            <p class="animate-up">A glimpse into our world-class manufacturing facility and precision output.</p>
        </div>
    </section>

    <section class="gallery-section">
        <div class="gallery-grid">
            <div class="gallery-item wide animate-up">
                <img src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&q=80&w=1200"
                    alt="Factory Floor">
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <h4>Main Production Wing</h4>
                        <p>High-capacity CNC spring forming lines.</p>
                    </div>
                </div>
            </div>
            <div class="gallery-item animate-up">
                <img src="https://images.unsplash.com/photo-1537462715879-360eeb61a0ad?auto=format&fit=crop&q=80&w=1200"
                    alt="Testing Lab">
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <h4>Quality Control</h4>
                        <p>Advanced metallurgical testing lab.</p>
                    </div>
                </div>
            </div>
            <div class="gallery-item tall animate-up">
                <img src="https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?auto=format&fit=crop&q=80&w=800"
                    alt="Precision Component">
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <h4>Precision Coil</h4>
                        <p>Compression spring for aerospace valve systems.</p>
                    </div>
                </div>
            </div>
            <div class="gallery-item animate-up">
                <img src="https://images.unsplash.com/photo-1565608438257-fac3c27beb36?auto=format&fit=crop&q=80&w=1200"
                    alt="Engineering Team">
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <h4>Expert Consultation</h4>
                        <p>Our lead engineers reviewing technical specs.</p>
                    </div>
                </div>
            </div>
            <div class="gallery-item wide animate-up">
                <img src="https://images.unsplash.com/photo-1581092160562-40aa08e78837?auto=format&fit=crop&q=80&w=1200"
                    alt="Robotic Arm">
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <h4>Robotic Precision</h4>
                        <p>Automated handling for high-volume orders.</p>
                    </div>
                </div>
            </div>
            <div class="gallery-item animate-up">
                <img src="https://images.unsplash.com/photo-1563911302283-d2bc129e7370?auto=format&fit=crop&q=80&w=800"
                    alt="Raw Material">
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <h4>Premium Alloys</h4>
                        <p>Certified SS316 raw material stock.</p>
                    </div>
                </div>
            </div>
            <div class="gallery-item animate-up">
                <img src="https://images.unsplash.com/photo-1590846083693-f23fdede9a98?auto=format&fit=crop&q=80&w=800"
                    alt="Heat Treatment">
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <h4>Heat Treatment Lab</h4>
                        <p>Stress-relieving springs for extreme durability.</p>
                    </div>
                </div>
            </div>
            <div class="gallery-item tall animate-up">
                <img src="https://images.unsplash.com/photo-1544724569-5f546fd6f2b5?auto=format&fit=crop&q=80&w=800"
                    alt="Specialized Wire">
                <div class="gallery-overlay">
                    <div class="gallery-info">
                        <h4>Specialized Wire Forming</h4>
                        <p>Micro-tolerances for high-performance systems.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="main-footer">
        <div class="footer-cta-card animate-up">
            <div>
                <h2>Ready to Engineer the Future?</h2>
                <p>Book a technical consultation with our lead metallurgical team.</p>
            </div>
            <a href="contact.html" class="btn btn-primary">Start Your Project</a>
        </div>
        <div class="footer-grid animate-up">
            <div class="footer-col">
                <a href="index.html" class="logo">
                    <img src="assets/logo.png" alt="Angel Spring">
                </a>
                <p class="footer-desc">World-class precision engineering in stainless steel.</p>
            </div>
            <div class="footer-col">
                <h4>Solutions</h4>
                <ul>
                    <li><a href="products.html?filter=compression">Compression Springs</a></li>
                    <li><a href="products.html?filter=industrial">Industrial Springs</a></li>
                    <li><a href="products.html?filter=stainless">Stainless Steel Springs</a></li>
                    <li><a href="products.html?filter=other">Other Products</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Support</h4>
                <ul>
                    <li><a href="contact.html">Request Quote</a></li>
                    <li><a href="quality.html">Quality Certs</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <!-- Floating Action Buttons -->
    <div class="fab-container">
        <a href="#" class="fab-btn back-to-top">
            <i class="fas fa-chevron-up"></i>
            <span class="btn-tooltip">Back to Top</span>
        </a>
        <a href="https://wa.me/919586526793" class="fab-btn whatsapp-btn" target="_blank">
            <i class="fab fa-whatsapp"></i>
            <span class="btn-tooltip">Chat with us</span>
        </a>
    </div>

    <!-- Lightbox Modal -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <span class="lightbox-close"><i class="fas fa-times"></i></span>
            <img src="" alt="" class="lightbox-img" id="lightbox-img">
            <div class="lightbox-caption" id="lightbox-caption"></div>
            <div class="lightbox-nav">
                <i class="fas fa-chevron-left" id="prev-btn"></i>
                <i class="fas fa-chevron-right" id="next-btn"></i>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const galleryItems = document.querySelectorAll('.gallery-item');
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxCaption = document.getElementById('lightbox-caption');
            const closeBtn = document.querySelector('.lightbox-close');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            let currentIndex = 0;
            const images = Array.from(galleryItems).map(item => ({
                src: item.querySelector('img').src,
                caption: item.querySelector('h4').innerText
            }));

            const showImage = (index) => {
                lightboxImg.style.opacity = '0';
                lightboxImg.style.transform = 'scale(0.95)';

                setTimeout(() => {
                    if (index < 0) index = images.length - 1;
                    if (index >= images.length) index = 0;
                    currentIndex = index;

                    lightboxImg.src = images[currentIndex].src;
                    lightboxCaption.innerText = images[currentIndex].caption;

                    lightboxImg.style.opacity = '1';
                    lightboxImg.style.transform = 'scale(1)';
                }, 200);

                lightbox.classList.add('active');
                document.body.style.overflow = 'hidden';
            };

            galleryItems.forEach((item, index) => {
                item.addEventListener('click', () => showImage(index));
            });

            closeBtn.addEventListener('click', () => {
                lightbox.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            prevBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                showImage(currentIndex - 1);
            });

            nextBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                showImage(currentIndex + 1);
            });

            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox || e.target.classList.contains('lightbox-content')) {
                    lightbox.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            // Keyboard navigation
            window.addEventListener('keydown', (e) => {
                if (!lightbox.classList.contains('active')) return;
                if (e.key === 'ArrowLeft') showImage(currentIndex - 1);
                if (e.key === 'ArrowRight') showImage(currentIndex + 1);
                if (e.key === 'Escape') lightbox.classList.remove('active');
            });
        });
    </script>
    <!-- Get Quote Modal -->
    <div class="quote-modal-overlay" id="quoteModal">
        <div class="quote-modal-content">
            <button class="modal-close-btn" onclick="closeQuoteModal()">&times;</button>

            <div class="quote-modal-header">
                <div class="modal-badge">TECH-RFQ // 2026</div>
                <h2>Project Analysis Request</h2>
                <div class="h-line" style="width: 50px; background: var(--white); margin: 20px 0; opacity: 0.3;"></div>
                <p>Submit your specifications for a comprehensive engineering evaluation.</p>
            </div>

            <form id="modalQuoteForm">
                <input type="hidden" id="modalProductTarget" name="product_name">

                <div class="modal-form-group">
                    <label>Full Name</label>
                    <input type="text" id="modalClientName" name="client_name" required placeholder="John Doe">
                </div>

                <div class="modal-form-group">
                    <label>Business Email</label>
                    <input type="email" id="modalClientEmail" name="client_email" required
                        placeholder="john@company.com">
                </div>

                <div class="modal-form-group">
                    <label>Phone Number</label>
                    <input type="tel" id="modalClientPhone" name="client_phone" required
                        placeholder="+1 (555) 000-0000">
                </div>

                <div class="modal-form-group">
                    <label>Company Name</label>
                    <input type="text" id="modalCompany" name="company_name" placeholder="Optional">
                </div>

                <div class="modal-form-group">
                    <label>Inquiry Type</label>
                    <select id="modalInquiryType" name="inquiry_type">
                        <option value="Standard Quote">Standard Quote</option>
                        <option value="Custom Engineering">Custom Engineering</option>
                        <option value="Bulk Order">Bulk Order</option>
                    </select>
                </div>

                <div class="modal-form-group">
                    <label>Details / Requirements</label>
                    <textarea id="modalMessage" name="message" rows="3"
                        placeholder="Please specify quantity, material, or dimensions..."></textarea>
                </div>

                <button type="submit" class="modal-submit-btn">
                    Send Request <i class="fas fa-paper-plane" style="margin-left: 8px;"></i>
                </button>
            </form>

            <div class="modal-success" id="modalSuccessMsg">
                <i class="fas fa-check-circle"></i>
                <h3>Request Received!</h3>
                <p>Our engineering team will contact you shortly.</p>
            </div>
        </div>
    </div>

    <!-- EmailJS Integration -->
    <script type="text/javascript" src="js/email-config.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init(window.EMAIL_CONFIG.PUBLIC_KEY);
        })();

        // Modal Logic
        window.openQuoteModal = function (e, productName) {
            if (e) e.preventDefault();
            const modal = document.getElementById('quoteModal');
            const productInput = document.getElementById('modalProductTarget');
            const form = document.getElementById('modalQuoteForm');
            const successMsg = document.getElementById('modalSuccessMsg');

            if (modal) {
                modal.classList.add('active');
                if (productInput && productName) {
                    productInput.value = productName;
                }
                // Reset form state
                if (form) {
                    form.style.display = 'block';
                    form.reset();
                }
                if (successMsg) successMsg.style.display = 'none';
            }
        };

        window.closeQuoteModal = function () {
            const modal = document.getElementById('quoteModal');
            if (modal) modal.classList.remove('active');
        };

        // Close on outside click
        document.getElementById('quoteModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeQuoteModal();
            }
        });

        // Handle Form Submission
        document.getElementById('modalQuoteForm').addEventListener('submit', function (event) {
            event.preventDefault();

            const btn = this.querySelector('button[type="submit"]');
            const originalBtnText = btn.innerHTML;
            btn.innerHTML = 'Sending...';
            btn.disabled = true;

            // Prepare template parameters
            const templateParams = {
                // My Custom Template Variables
                product_name: document.getElementById('modalProductTarget').value || 'General Inquiry',
                client_name: document.getElementById('modalClientName').value,
                client_email: document.getElementById('modalClientEmail').value,
                client_phone: document.getElementById('modalClientPhone').value,
                company_name: document.getElementById('modalCompany').value,
                inquiry_type: document.getElementById('modalInquiryType').value,
                message: document.getElementById('modalMessage').value,
                client_phone_clean: document.getElementById('modalClientPhone').value.replace(/[^0-9]/g, ''),

                // Standard/Default Fail-safes
                from_name: document.getElementById('modalClientName').value,
                name: document.getElementById('modalClientName').value,
                email: document.getElementById('modalClientEmail').value,
                reply_to: document.getElementById('modalClientEmail').value,
                to_name: 'Angel Spring Team',
                subject: 'Quote: ' + (document.getElementById('modalProductTarget').value || 'General')
            };

            console.log("Sending Template Params:", templateParams);

            emailjs.send(window.EMAIL_CONFIG.SERVICE_ID, window.EMAIL_CONFIG.TEMPLATE_ID, templateParams)
                .then(function (response) {
                    console.log('SUCCESS!', response.status, response.text);
                    document.getElementById('modalQuoteForm').style.display = 'none';
                    document.getElementById('modalSuccessMsg').style.display = 'block';
                    btn.innerHTML = originalBtnText;
                    btn.disabled = false;

                    setTimeout(closeQuoteModal, 3000);
                }, function (error) {
                    console.log('FAILED...', error);
                    alert('EmailJS Error: ' + JSON.stringify(error));
                    btn.innerHTML = originalBtnText;
                    btn.disabled = false;
                });
        });

        // Auto Attach to Buttons
        document.addEventListener('DOMContentLoaded', () => {
            const quoteBtns = document.querySelectorAll('.nav-cta, .nav-cta-mobile');
            quoteBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    openQuoteModal(e, 'General Inquiry');
                });
            });
        });
    </script>
</body>

</html>
